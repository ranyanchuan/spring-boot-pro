<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.yyan.dao.MenuDao">    <!--批量插入菜单数据-->    <insert id="insertListMenu">        insert into menu(id, pid,title,url,create_time,update_time) values        <foreach collection="list" item="menu" separator=",">            (uuid(),            <if test="menu.pid != null">#{menu.pid},</if>            <if test="menu.pid == null">'root',</if>            #{menu.title},#{menu.url},now(), now())        </foreach>    </insert>    <!--批量查询菜单-->    <!--查询条件-->    <sql id="selectListMenuCondition">        <if test="id != null">            and id= #{id}        </if>        <if test="title != null">            and title like '%${title}%'        </if>        <if test="pid != null"> and pid=#{menu.pid}</if>        <if test="pid == null"> and pid='root'</if>    </sql>    <!--分页查询数据-->    <select id="selectListMenu" resultType="com.yyan.pojo.Menu">        SELECT *,        create_time as createTime,        update_time as updateTime        FROM menu        WHERE 1=1        <include refid="selectListMenuCondition"/>        limit ${pageIndex*size},${(pageIndex+1)*size}    </select>    <!--查询分页总条数-->    <select id="countListMenu" parameterType="java.util.HashMap" resultType="java.lang.Integer">        select count(id) from menu WHERE 1=1        <include refid="selectListMenuCondition"/>    </select>    <!--批量修改菜单-->    <update id="updateListMenu" parameterType="java.util.List">        <foreach collection="list" item="item" index="index" open="" close="" separator=";">            update menu            <set>                <if test="item.title!=null">title=#{item.title},</if>                <if test="item.url!=null">url=#{item.url},</if>                update_time=now()            </set>            where 1=1 and id = #{item.id}        </foreach>    </update>    <!--批量删除 要删除角色 级联删除角色菜单表-->    <delete id="deleteListMenu" parameterType="java.util.List">        <foreach collection="list" item="item" index="index" open="" close="" separator=";">            delete from menu where id=#{item.id};            delete from role_menu where menu_id=#{item.id}        </foreach>    </delete></mapper>